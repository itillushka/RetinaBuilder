
elastix is started at Fri Nov 21 16:18:33 2025.

which elastix:   C:\Program Files\elastix\elastix.exe
  elastix version: 5.2.0
  Git revision SHA: ebb429a33bdf3248c2137fc4adb4259a2ec7db24
  Git revision date: Thu Jul 18 14:42:31 2024 +0200
  Build date: Jul 18 2024 13:02:32
  Compiler: Visual C++ version 194033812.0
  Memory address size: 64-bit
  CMake version: 3.24.2
  ITK version: 5.4.0

Command-line arguments: 
  -f C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli\fixed.mha -m C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli\moving.mha -out C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli -p C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli\parameters.txt

elastix runs at: aristarx
  Windows  Personal (x64),  (Build 9200)
  with 65374 MB memory, and 14 cores @ 2394 MHz.
-------------------------------------------------------------------------

Running elastix with parameter file 0: "C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli\parameters.txt".

Current time: Fri Nov 21 16:18:33 2025.
Reading the elastix parameters from file ...

Installing all components.
InstallingComponents was successful.

WARNING: The parameter "FixedImagePyramid", requested at entry number 0, does not exist at all.
  The default value "FixedSmoothingImagePyramid" is used instead.
WARNING: The parameter "MovingImagePyramid", requested at entry number 0, does not exist at all.
  The default value "MovingSmoothingImagePyramid" is used instead.
WARNING: The parameter "ResampleInterpolator", requested at entry number 0, does not exist at all.
  The default value "FinalBSplineInterpolator" is used instead.
WARNING: The parameter "Resampler", requested at entry number 0, does not exist at all.
  The default value "DefaultResampler" is used instead.
ELASTIX version: 5.2.0
Command line options from ElastixBase:
-f        C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli\fixed.mha
-m        C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli\moving.mha
-fMask    unspecified, so no fixed mask used
-mMask    unspecified, so no moving mask used
-out      C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli\
-p        C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli\parameters.txt
-priority unspecified, so NORMAL process priority
-threads  unspecified, so all available threads are used
Command line options from TransformBase:
-t0       unspecified, so no initial transform used

=============== start of ParameterFile: C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli\parameters.txt ===============
// Elastix Parameter File for 2D Translation Registration
// Generated automatically for OCT volume alignment
// Configured for large displacements (~100px Z-axis)

(FixedInternalImagePixelType "float")
(MovingInternalImagePixelType "float")
(FixedImageDimension 2)
(MovingImageDimension 2)
(UseDirectionCosines "false")

// Transform (NO automatic initialization - allows finding large displacements)
(Transform "TranslationTransform")
(AutomaticTransformInitialization "false")
(AutomaticScalesEstimation "true")

// Metric
(Metric "AdvancedNormalizedCorrelation")
(SubtractMean "true")
(UseMultiThreadingForMetrics "false")

// Optimizer (configured for LARGE displacements up to 200px)
(Optimizer "AdaptiveStochasticGradientDescent")
(AutomaticParameterEstimation "true")
(UseAdaptiveStepSizes "true")
(MaximumNumberOfIterations 512 512 256)
(MaximumStepLength 200.0)
(MinimumStepLength 0.1)

// Multi-resolution
(Registration "MultiResolutionRegistration")
(NumberOfResolutions 3)
(ImagePyramidSchedule 4 4  2 2  1 1)

// Sampling (very conservative at coarse level for large displacements)
(ImageSampler "Random")
(NumberOfSpatialSamples 512 2048 4096)
(NewSamplesEveryIteration "true")
(MaximumNumberOfSamplingAttempts 5)
(RequiredRatioOfValidSamples 0.10)

// Interpolation
(Interpolator "BSplineInterpolator")
(BSplineInterpolationOrder 1)
(FinalBSplineInterpolationOrder 3)

// Output
(WriteResultImage "false")
(ResultImagePixelType "float")
(ResultImageFormat "mha")


=============== end of ParameterFile: C:\Users\illia\Desktop\diploma\RetinaBuilder\scripts_modular_parallel\results_3vol_em005\elastix_cli\parameters.txt ===============


Reading images...
Reading images took 10 ms.

Transform parameters are initialized as: [0, 0]
Initialization of all components (before registration) took: 0 ms.
Preparation of the image pyramids took: 25 ms.

Resolution: 0
WARNING: The parameter "ShowExactMetricValue", requested at entry number 0, does not exist at all.
  The default value "false" is used instead.
WARNING: The parameter "CheckNumberOfSamples", requested at entry number 0, does not exist at all.
  The default value "true" is used instead.
Setting the fixed masks took: 0 ms.
Setting the moving masks took: 0 ms.
From elastix > version 5.1.0, AdvancedNormalizedCorrelationMetric ignores parameter SubtractMean, and just behaves as if its value is true.
WARNING: The parameter "SP_A", requested at entry number 0, does not exist at all.
  The default value "20" is used instead.
WARNING: The parameter "SigmoidInitialTime", requested at entry number 0, does not exist at all.
  The default value "0" is used instead.
WARNING: The parameter "MaxBandCovSize", requested at entry number 0, does not exist at all.
  The default value "192" is used instead.
WARNING: The parameter "NumberOfBandStructureSamples", requested at entry number 0, does not exist at all.
  The default value "10" is used instead.
WARNING: The parameter "UseConstantStep", requested at entry number 0, does not exist at all.
  The default value "false" is used instead.
WARNING: The parameter "MaximumStepLengthRatio", requested at entry number 0, does not exist at all.
  The default value "1" is used instead.
WARNING: The parameter "NumberOfGradientMeasurements", requested at entry number 0, does not exist at all.
  The default value "0" is used instead.
WARNING: The parameter "NumberOfJacobianMeasurements", requested at entry number 0, does not exist at all.
  The default value "1000" is used instead.
WARNING: The parameter "NumberOfSamplesForExactGradient", requested at entry number 0, does not exist at all.
  The default value "100000" is used instead.
WARNING: The parameter "SigmoidScaleFactor", requested at entry number 0, does not exist at all.
  The default value "0.1" is used instead.
Elastix initialization of all components (for this resolution) took: 1 ms.
Initialization of AdvancedNormalizedCorrelation metric took: 8 ms.
Starting automatic parameter estimation for AdaptiveStochasticGradientDescent ...
WARNING: The parameter "ASGDParameterEstimationMethod", requested at entry number 0, does not exist at all.
  The default value "Original" is used instead.
  Computing JacobianTerms ...
  Computing the Jacobian terms took 0.001255s
  NumberOfGradientMeasurements to estimate sigma_i: 16
  Sampling gradients ...
  Sampling the gradients took 0.826619s
Automatic parameter estimation took 0.83s
1:ItNr	2:Metric	3a:Time	3b:StepSize	4:||Gradient||	Time[ms]
0	-0.194536	0.000000	4500.454913	0.015349	837.3
1	-0.150748	0.000000	4500.454913	0.032412	0.9
2	0.068233	1.000000	4295.888780	0.002917	0.8
3	-0.042424	1.999967	4109.116978	0.020185	0.9
4	-0.201293	1.222395	4252.896739	0.005054	1.0
5	-0.118170	0.444025	4407.267449	0.013074	1.0
6	0.064872	0.000000	4500.454913	0.007347	0.9
7	0.117230	0.000000	4500.454913	0.010018	0.8
8	-0.058844	0.000000	4500.454913	0.006400	0.8
9	0.058813	0.999669	4295.953369	0.000292	0.8
10	0.059683	0.946931	4306.276520	0.011998	0.9
11	-0.196985	1.109885	4274.538365	0.016275	0.8
12	0.056536	0.331514	4430.513164	0.007725	0.7
13	-0.039414	1.331513	4232.115931	0.019059	0.7
14	0.080523	0.553142	4384.954817	0.010348	0.8
15	-0.123299	1.553142	4190.527147	0.012820	0.8
16	-0.188042	0.774770	4340.323748	0.033344	0.9
17	0.090386	1.774770	4149.747788	0.006130	0.9
18	0.012114	0.996399	4296.592059	0.003879	0.9
19	-0.036823	0.311471	4434.679930	0.012276	0.9
20	-0.070235	0.000000	4500.454913	0.006470	1.0
21	-0.097158	0.999916	4295.905203	0.006049	0.9
22	-0.089049	1.990382	4110.830120	0.012646	1.2
23	-0.129995	2.990330	3939.485316	0.018713	1.0
24	-0.049618	3.990330	3781.844929	0.022159	1.0
25	0.104726	4.990330	3636.335237	0.009330	0.9
26	-0.044643	5.990330	3501.607902	0.000329	0.9
27	-0.170254	6.078440	3490.214165	0.020783	1.0
28	0.147835	5.874648	3516.680607	0.006143	0.9
29	0.049702	6.874648	3390.520076	0.004116	0.9
30	0.069119	7.809847	3280.460081	0.005736	0.8
31	0.069646	8.670611	3185.291828	0.009458	0.9
32	-0.130347	7.893300	3270.985133	0.030030	1.0
33	-0.162075	7.114928	3361.543480	0.007341	1.0
34	-0.098430	6.336557	3457.258880	0.016772	0.9
35	-0.073226	5.558185	3558.584755	0.011977	0.8
36	-0.076220	4.779814	3666.029315	0.012135	0.8
37	-0.021484	4.001442	3780.164030	0.007411	0.8
38	-0.043134	5.001222	3634.811972	0.022522	0.8
39	-0.033168	4.222851	3746.981359	0.002329	0.9
40	0.019093	3.471852	3861.969719	0.032742	0.8
41	-0.020314	4.467566	3710.977082	0.022155	0.7
42	0.142902	3.689194	3827.972337	0.052559	0.7
Time spent in resolution 0 (ITK initialization and iterating): 0.88
Stopping condition: Error in metric.
Settings of AdaptiveStochasticGradientDescent in resolution 0:
( SP_a 94509.553170 )
( SP_A 20.000000 )
( SP_alpha 1.000000 )
( SigmoidMax 1.000000 )
( SigmoidMin -0.778371 )
( SigmoidScale 0.000007 )


itk::ExceptionObject (0000007C4859F370)
Location: "ElastixTemplate - Run()" 
File: D:\a\elastix\elastix\Elastix-source\Common\CostFunctions\itkAdvancedImageToImageMetric.hxx
Line: 761
Description: ITK ERROR: AdvancedNormalizedCorrelationMetric(000001EEE511C880): Too many samples map outside moving image buffer: 0 / 512


Error occurred during actual registration.


Errors occurred!
